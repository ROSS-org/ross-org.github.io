---
layout: default
title: News Archive
---

<div class="home">
  <div class="content">
    <div class="container">
      <h1>All News Posts</h1>

      <div id="pagination-controls" style="text-align: center; margin-bottom: 2em;">
        <button id="prev-btn" onclick="changePage(-1)">&laquo; Previous</button>
        <span id="page-info"></span>
        <button id="next-btn" onclick="changePage(1)">Next &raquo;</button>
      </div>

      <ul class="posts noList" id="posts-container">
        {% for post in site.posts %}
          <li class="post-item" data-index="{{ forloop.index0 }}">
            <h3><a class="post-link" href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a></h3>
            <p class="post-meta">{{ post.category }} • Posted on {{ post.date | date: "%b %-d, %Y" }}{% if post.author %} • {{ post.author }}{% endif %}{% if post.meta %} • {{ post.meta }}{% endif %}</p>
            <p class="description">{{ post.excerpt }}</p>
          </li>
        {% endfor %}
      </ul>

      <div id="pagination-controls-bottom" style="text-align: center; margin-top: 2em;">
        <button id="prev-btn-bottom" onclick="changePage(-1)">&laquo; Previous</button>
        <span id="page-info-bottom"></span>
        <button id="next-btn-bottom" onclick="changePage(1)">Next &raquo;</button>
      </div>
    </div>
  </div>
</div>

<script>
let currentPage = 1;
const postsPerPage = 20;
const totalPosts = {{ site.posts.size }};
const totalPages = Math.ceil(totalPosts / postsPerPage);

function showPage(page) {
  const posts = document.querySelectorAll('.post-item');
  const startIndex = (page - 1) * postsPerPage;
  const endIndex = startIndex + postsPerPage;

  posts.forEach((post, index) => {
    if (index >= startIndex && index < endIndex) {
      post.style.display = 'block';
    } else {
      post.style.display = 'none';
    }
  });

  // Update page info
  const pageInfo = `Page ${page} of ${totalPages} (${totalPosts} posts total)`;
  document.getElementById('page-info').textContent = pageInfo;
  document.getElementById('page-info-bottom').textContent = pageInfo;

  // Update button states
  const prevBtns = [document.getElementById('prev-btn'), document.getElementById('prev-btn-bottom')];
  const nextBtns = [document.getElementById('next-btn'), document.getElementById('next-btn-bottom')];

  prevBtns.forEach(btn => btn.disabled = page === 1);
  nextBtns.forEach(btn => btn.disabled = page === totalPages);

  // Scroll to top
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function changePage(direction) {
  const newPage = currentPage + direction;
  if (newPage >= 1 && newPage <= totalPages) {
    currentPage = newPage;
    showPage(currentPage);
  }
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
  if (totalPosts === 0) {
    document.getElementById('posts-container').innerHTML = '<p>No posts found.</p>';
    document.getElementById('pagination-controls').style.display = 'none';
    document.getElementById('pagination-controls-bottom').style.display = 'none';
  } else if (totalPages === 1) {
    document.getElementById('pagination-controls').style.display = 'none';
    document.getElementById('pagination-controls-bottom').style.display = 'none';
  } else {
    showPage(1);
  }
});
</script>

<style>
#pagination-controls button,
#pagination-controls-bottom button {
  background-color: #007acc;
  color: white;
  border: none;
  padding: 0.5em 1em;
  margin: 0 0.5em;
  border-radius: 3px;
  cursor: pointer;
  font-size: 1em;
}

#pagination-controls button:hover:not(:disabled),
#pagination-controls-bottom button:hover:not(:disabled) {
  background-color: #005a99;
}

#pagination-controls button:disabled,
#pagination-controls-bottom button:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

#page-info, #page-info-bottom {
  margin: 0 1em;
  color: #666;
  font-weight: bold;
}
</style>
